/*
 * Click nbfs://nbhost/SystemFileSystem/Templates/Licenses/license-default.txt to change this license
 * Click nbfs://nbhost/SystemFileSystem/Templates/GUIForms/JFrame.java to edit this template
 */
package com.mycompany.student_enrollment_system;

import java.awt.event.ActionListener;
import java.sql.*;
import javax.swing.*;
/**
 *
 * @author Lenovo x270
 */
public class homePage extends javax.swing.JFrame {
    
//    private static final java.util.logging.Logger logger = java.util.logging.Logger.getLogger(homePage.class.getName());
    private Framework framework;
    private Connection conn;
    public homePage(Framework framework, Connection conn) {
        this.framework = framework;
        this.conn = conn;
        initComponents();
        setupFilters();
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {
        java.awt.GridBagConstraints gridBagConstraints;

        status = new javax.swing.ButtonGroup();
        semester = new javax.swing.ButtonGroup();
        jPanel1 = new javax.swing.JPanel();
        jPanel2 = new javax.swing.JPanel();
        jButton4 = new javax.swing.JButton();
        jButton5 = new javax.swing.JButton();
        headerPanel = new javax.swing.JPanel();
        school_name = new javax.swing.JPanel();
        home_dashboardButton = new javax.swing.JButton();
        leftlogo = new javax.swing.JLabel();
        schoolName = new javax.swing.JLabel();
        rightlogo = new javax.swing.JLabel();
        facultyButton = new javax.swing.JButton();
        buttons = new javax.swing.JPanel();
        jButton2 = new javax.swing.JButton();
        jButton3 = new javax.swing.JButton();
        jButton6 = new javax.swing.JButton();
        jButton7 = new javax.swing.JButton();
        mainContentPanel = new javax.swing.JPanel();
        leftContainer = new javax.swing.JPanel();
        studentInfoandIcon1 = new javax.swing.JPanel();
        jLabel16 = new javax.swing.JLabel();
        icon1 = new javax.swing.JLabel();
        leftPanelParent = new javax.swing.JPanel();
        jLabel17 = new javax.swing.JLabel();
        jLabel18 = new javax.swing.JLabel();
        jLabel19 = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        spacer1 = new javax.swing.JLabel();
        spacer3 = new javax.swing.JLabel();
        schoolYear = new javax.swing.JComboBox<>();
        statusRegular = new javax.swing.JRadioButton();
        statusIrregular = new javax.swing.JRadioButton();
        block = new javax.swing.JComboBox<>();
        semester1 = new javax.swing.JRadioButton();
        semester2 = new javax.swing.JRadioButton();
        semester3 = new javax.swing.JRadioButton();
        studentName = new javax.swing.JComboBox<>();
        searchButton = new javax.swing.JButton();
        clearButton = new javax.swing.JButton();
        rightPanelParent = new javax.swing.JPanel();
        labelBasic = new javax.swing.JLabel();
        labelID = new javax.swing.JLabel();
        labelID1 = new javax.swing.JLabel();
        labelName = new javax.swing.JLabel();
        labelName1 = new javax.swing.JLabel();

        jButton4.setText("jButton4");

        jButton5.setText("jButton5");

        setDefaultCloseOperation(javax.swing.WindowConstants.EXIT_ON_CLOSE);

        headerPanel.setBackground(new java.awt.Color(255, 255, 204));
        headerPanel.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        headerPanel.setForeground(new java.awt.Color(255, 255, 255));
        headerPanel.setLayout(new java.awt.BorderLayout());

        school_name.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        school_name.setLayout(new java.awt.GridBagLayout());

        home_dashboardButton.setBackground(new java.awt.Color(153, 204, 255));
        home_dashboardButton.setFont(new java.awt.Font("Consolas", 1, 20)); // NOI18N
        home_dashboardButton.setText("Dashboard");
        home_dashboardButton.addActionListener(this::home_dashboardButtonActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 130);
        school_name.add(home_dashboardButton, gridBagConstraints);

        leftlogo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/mycompany/student_enrollment_system/images/plmsmalllogo.png"))); // NOI18N
        leftlogo.setText(" ");
        school_name.add(leftlogo, new java.awt.GridBagConstraints());

        schoolName.setFont(new java.awt.Font("Consolas", 1, 30)); // NOI18N
        schoolName.setText("PAMANTASAN NG LUNGSOD NG MAYNILA");
        school_name.add(schoolName, new java.awt.GridBagConstraints());

        rightlogo.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/mycompany/student_enrollment_system/images/plmsmalllogo.png"))); // NOI18N
        rightlogo.setText(" ");
        school_name.add(rightlogo, new java.awt.GridBagConstraints());

        facultyButton.setFont(new java.awt.Font("Consolas", 1, 20)); // NOI18N
        facultyButton.setText("Faculty");
        facultyButton.addActionListener(this::facultyButtonActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(0, 130, 0, 0);
        school_name.add(facultyButton, gridBagConstraints);

        headerPanel.add(school_name, java.awt.BorderLayout.CENTER);

        buttons.setLayout(new java.awt.GridLayout(1, 0));

        jButton2.setFont(new java.awt.Font("Consolas", 1, 16)); // NOI18N
        jButton2.setText("Student");
        jButton2.addActionListener(this::jButton2ActionPerformed);
        buttons.add(jButton2);

        jButton3.setFont(new java.awt.Font("Consolas", 1, 16)); // NOI18N
        jButton3.setText("Enrollment");
        jButton3.addActionListener(this::jButton3ActionPerformed);
        buttons.add(jButton3);

        jButton6.setFont(new java.awt.Font("Consolas", 1, 16)); // NOI18N
        jButton6.setText("Subject");
        jButton6.addActionListener(this::jButton6ActionPerformed);
        buttons.add(jButton6);

        jButton7.setFont(new java.awt.Font("Consolas", 1, 16)); // NOI18N
        jButton7.setText("College & Course");
        jButton7.addActionListener(this::jButton7ActionPerformed);
        buttons.add(jButton7);

        headerPanel.add(buttons, java.awt.BorderLayout.PAGE_END);

        getContentPane().add(headerPanel, java.awt.BorderLayout.NORTH);
        headerPanel.getAccessibleContext().setAccessibleName("");

        mainContentPanel.setLayout(new javax.swing.BoxLayout(mainContentPanel, javax.swing.BoxLayout.LINE_AXIS));

        leftContainer.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        leftContainer.setOpaque(false);
        leftContainer.setPreferredSize(new java.awt.Dimension(455, 100));
        leftContainer.setRequestFocusEnabled(false);
        leftContainer.setLayout(new java.awt.BorderLayout());

        studentInfoandIcon1.setBorder(javax.swing.BorderFactory.createEmptyBorder(10, 15, 5, 1));
        studentInfoandIcon1.setFont(new java.awt.Font("Consolas", 0, 12)); // NOI18N
        studentInfoandIcon1.setLayout(new java.awt.GridBagLayout());

        jLabel16.setFont(new java.awt.Font("Consolas", 1, 24)); // NOI18N
        jLabel16.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel16.setText("Student Information:");
        jLabel16.setFocusable(false);
        jLabel16.setHorizontalTextPosition(javax.swing.SwingConstants.CENTER);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 90);
        studentInfoandIcon1.add(jLabel16, gridBagConstraints);

        icon1.setIcon(new javax.swing.ImageIcon(getClass().getResource("/com/mycompany/student_enrollment_system/images/defaulticon.png"))); // NOI18N
        icon1.setFocusable(false);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 20);
        studentInfoandIcon1.add(icon1, gridBagConstraints);

        leftContainer.add(studentInfoandIcon1, java.awt.BorderLayout.NORTH);

        leftPanelParent.setLayout(new java.awt.GridBagLayout());

        jLabel17.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        jLabel17.setText("Student Name:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        leftPanelParent.add(jLabel17, gridBagConstraints);

        jLabel18.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        jLabel18.setText("Block:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        leftPanelParent.add(jLabel18, gridBagConstraints);

        jLabel19.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        jLabel19.setText("Semester:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        leftPanelParent.add(jLabel19, gridBagConstraints);

        jLabel20.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        jLabel20.setText("School Year:");
        jLabel20.setToolTipText("");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        leftPanelParent.add(jLabel20, gridBagConstraints);

        jLabel21.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        jLabel21.setText("Status:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        leftPanelParent.add(jLabel21, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridy = 6;
        gridBagConstraints.fill = java.awt.GridBagConstraints.VERTICAL;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(30, 0, 0, 0);
        leftPanelParent.add(spacer1, gridBagConstraints);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.weighty = 1.0;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 30, 0);
        leftPanelParent.add(spacer3, gridBagConstraints);

        schoolYear.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        schoolYear.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "-Select School Year-", "2024 - 2025", "2023 - 2024", "2022 - 2023", "Veterans", " " }));
        schoolYear.addActionListener(this::schoolYearActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 4;
        gridBagConstraints.fill = java.awt.GridBagConstraints.HORIZONTAL;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 35, 25);
        leftPanelParent.add(schoolYear, gridBagConstraints);

        status.add(statusRegular);
        statusRegular.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        statusRegular.setText("Regular");
        statusRegular.addActionListener(this::statusRegularActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.WEST;
        gridBagConstraints.insets = new java.awt.Insets(-30, 0, 0, 135);
        leftPanelParent.add(statusRegular, gridBagConstraints);

        status.add(statusIrregular);
        statusIrregular.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        statusIrregular.setText("Irregular");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 5;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(-35, 120, 0, 70);
        leftPanelParent.add(statusIrregular, gridBagConstraints);

        block.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        block.setMaximumRowCount(2);
        block.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "-Select Block-", "Block 1", "Block 2", "Block 3", "Block 4", "Block 5", "Block 6" }));
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(0, 10, 30, 140);
        leftPanelParent.add(block, gridBagConstraints);

        semester.add(semester1);
        semester1.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        semester1.setText("1st Sem");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 210);
        leftPanelParent.add(semester1, gridBagConstraints);

        semester.add(semester2);
        semester2.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        semester2.setText("2nd Sem");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.insets = new java.awt.Insets(-25, 20, 0, 20);
        leftPanelParent.add(semester2, gridBagConstraints);

        semester.add(semester3);
        semester3.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        semester3.setText("Summer");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 3;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(0, 200, 0, 0);
        leftPanelParent.add(semester3, gridBagConstraints);

        studentName.setFont(new java.awt.Font("Consolas", 1, 18)); // NOI18N
        studentName.setMaximumRowCount(5);
        studentName.setModel(new javax.swing.DefaultComboBoxModel<>(new String[] { "-Select Student-", "Cyrus Kent B. De Guzman", "John Devonaire L. Garcia", "Nheil Jewel F. Blanche", "Troi Isaac V. Limin", "JP \"The Legend\" Medalla", "Curien Del Rosario", "Lorejane Dela Cruz", " " }));
        studentName.addActionListener(this::studentNameActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 1;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.NORTH;
        gridBagConstraints.insets = new java.awt.Insets(0, 0, 0, 30);
        leftPanelParent.add(studentName, gridBagConstraints);

        searchButton.setBackground(new java.awt.Color(102, 255, 102));
        searchButton.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        searchButton.setText("Search");
        searchButton.addActionListener(this::searchButtonActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.insets = new java.awt.Insets(0, -200, 50, 0);
        leftPanelParent.add(searchButton, gridBagConstraints);

        clearButton.setBackground(new java.awt.Color(255, 0, 0));
        clearButton.setFont(new java.awt.Font("Segoe UI", 1, 24)); // NOI18N
        clearButton.setText("Clear");
        clearButton.addActionListener(this::clearButtonActionPerformed);
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 7;
        gridBagConstraints.insets = new java.awt.Insets(0, 50, 50, 0);
        leftPanelParent.add(clearButton, gridBagConstraints);

        leftContainer.add(leftPanelParent, java.awt.BorderLayout.CENTER);

        mainContentPanel.add(leftContainer);

        rightPanelParent.setBorder(javax.swing.BorderFactory.createLineBorder(new java.awt.Color(0, 0, 0)));
        rightPanelParent.setLayout(new java.awt.GridBagLayout());

        labelBasic.setFont(new java.awt.Font("Consolas", 1, 30)); // NOI18N
        labelBasic.setText("Basic Information");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 0;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 45, 0);
        rightPanelParent.add(labelBasic, gridBagConstraints);

        labelID.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        labelID.setText("Student ID:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        rightPanelParent.add(labelID, gridBagConstraints);

        labelID1.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        labelID1.setText("no search yet...");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridy = 1;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        rightPanelParent.add(labelID1, gridBagConstraints);

        labelName.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        labelName.setText("Full Name:");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 0;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        rightPanelParent.add(labelName, gridBagConstraints);

        labelName1.setFont(new java.awt.Font("Consolas", 0, 18)); // NOI18N
        labelName1.setText("no search yet...");
        gridBagConstraints = new java.awt.GridBagConstraints();
        gridBagConstraints.gridx = 1;
        gridBagConstraints.gridy = 2;
        gridBagConstraints.fill = java.awt.GridBagConstraints.BOTH;
        gridBagConstraints.anchor = java.awt.GridBagConstraints.EAST;
        gridBagConstraints.insets = new java.awt.Insets(0, 15, 30, 0);
        rightPanelParent.add(labelName1, gridBagConstraints);

        mainContentPanel.add(rightPanelParent);

        getContentPane().add(mainContentPanel, java.awt.BorderLayout.CENTER);

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void home_dashboardButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_home_dashboardButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_home_dashboardButtonActionPerformed

    private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
        // TODO add your handling code here:
        framework.openStudent();
        this.dispose();
    }//GEN-LAST:event_jButton2ActionPerformed

    private void jButton6ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton6ActionPerformed
        // TODO add your handling code here:
        framework.openSubject();
        this.dispose();
    }//GEN-LAST:event_jButton6ActionPerformed

    private void jButton7ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton7ActionPerformed
        // TODO add your handling code here:
        framework.openCollegeAndCourse();
        this.dispose();
    }//GEN-LAST:event_jButton7ActionPerformed

    private void facultyButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_facultyButtonActionPerformed
        // TODO add your handling code here:
        framework.openFaculty();
        this.dispose();
    }//GEN-LAST:event_facultyButtonActionPerformed

    private void schoolYearActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_schoolYearActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_schoolYearActionPerformed

    private void statusRegularActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_statusRegularActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_statusRegularActionPerformed

    private void studentNameActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_studentNameActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_studentNameActionPerformed

    private void jButton3ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton3ActionPerformed
        // TODO add your handling code here:
        framework.openEnrollment();
        this.dispose();
    }//GEN-LAST:event_jButton3ActionPerformed

    private void clearButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_clearButtonActionPerformed
        // TODO add your handling code here:
    }//GEN-LAST:event_clearButtonActionPerformed

    private void searchButtonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_searchButtonActionPerformed
        // TODO add your handling code here:
    // Clear existing content
        rightPanelParent.removeAll();
        rightPanelParent.revalidate();
        rightPanelParent.repaint();

        try {
            // Extract selected values
            String student = (String) studentName.getSelectedItem();
            if (student == null || student.trim().isEmpty()) return;

            int firstSpace = student.indexOf(" ");
            String firstName = (firstSpace == -1) ? student : student.substring(0, firstSpace);
            String lastName  = (firstSpace == -1) ? "" : student.substring(firstSpace + 1);

            String selectedBlock = (String) block.getSelectedItem();
            String selectedSemester = getSelectedSemester();
            String selectedSchoolYear = (String) schoolYear.getSelectedItem();
            String selectedType = statusRegular.isSelected() ? "Regular" : statusIrregular.isSelected() ? "Irregular" : null;

            if (selectedBlock == null || selectedSemester == null || selectedSchoolYear == null || selectedType == null) {
                JOptionPane.showMessageDialog(this, "Please select all filters first!");
                return;
            }

            // Final SQL query
            String sql = "SELECT stu.student_id, stu.s_firstname, stu.s_lastname, stu.college, stu.place_of_birth, " +
                         "enr.block_no, sub.semester, sub.school_year, enr.student_type " +
                         "FROM student stu " +
                         "INNER JOIN enrollment enr ON stu.student_id = enr.student_id " +
                         "INNER JOIN subject sub ON enr.subject_code = sub.subject_code " +
                         "WHERE stu.deleted='F' " +
                         "AND stu.s_firstname=? " +
                         "AND stu.s_lastname=? " +
                         "AND enr.block_no=? " +
                         "AND sub.semester=? " +
                         "AND sub.school_year=? " +
                         "AND enr.student_type=?";

            PreparedStatement ps = conn.prepareStatement(sql);
            ps.setString(1, firstName);
            ps.setString(2, lastName);
            ps.setString(3, selectedBlock);
            ps.setString(4, selectedSemester);
            ps.setString(5, selectedSchoolYear);
            ps.setString(6, selectedType);

            ResultSet rs = ps.executeQuery();

            // Store the "common values" from first row
            String studentID = null;
            String studentFullName = null;
            String college = null;
            String placeOfBirth = null;

            if (rs.next()) {
                studentID = rs.getString("student_id");
                studentFullName = rs.getString("s_firstname") + " " + rs.getString("s_lastname");
                college = rs.getString("college");
                placeOfBirth = rs.getString("place_of_birth");

                // Add labels for common data
                rightPanelParent.add(new JLabel("Student ID : " + studentID));
                rightPanelParent.add(new JLabel("Student Name : " + studentFullName));
                rightPanelParent.add(new JLabel("College : " + college));
                rightPanelParent.add(new JLabel("Place of Birth : " + placeOfBirth));
                rightPanelParent.add(new JLabel("Block : " + rs.getString("block_no")));
                rightPanelParent.add(new JLabel("Semester : " + rs.getString("semester")));
                rightPanelParent.add(new JLabel("School Year : " + rs.getString("school_year")));
                rightPanelParent.add(new JLabel("Status : " + rs.getString("student_type")));

                // If you want, you could also add a scrollable table for subjects that differ per row
            }

            rightPanelParent.revalidate();
            rightPanelParent.repaint();

        } catch (SQLException ex) {
            ex.printStackTrace();
            JOptionPane.showMessageDialog(this, "Error fetching student data!");
        }
    }//GEN-LAST:event_searchButtonActionPerformed

private void setupFilters() {
    // Initially, populate student combo box
    populateStudents();
    
    // Add listener for student selection
    studentName.addActionListener(e -> {
        String selectedStudent = (String) studentName.getSelectedItem();
        if (selectedStudent != null) {
            populateBlocks(selectedStudent);
            semester1.setEnabled(false);
            semester2.setEnabled(false);
            semester3.setEnabled(false);
            schoolYear.setEnabled(false);
            statusRegular.setEnabled(false);
            statusIrregular.setEnabled(false);
        }
    });

    // Listener for block
    block.addActionListener(e -> {
        String selectedStudent = (String) studentName.getSelectedItem();
        String selectedBlock = (String) block.getSelectedItem();
        if (selectedStudent != null && selectedBlock != null) {
            populateSemesters(selectedStudent, selectedBlock);
            schoolYear.setEnabled(false);
            statusRegular.setEnabled(false);
            statusIrregular.setEnabled(false);
        }
    });

    // Listener for semester
    ActionListener semesterListener = e -> {
        String selectedStudent = (String) studentName.getSelectedItem();
        String selectedBlock = (String) block.getSelectedItem();
        String selectedSemester = getSelectedSemester();
        if (selectedSemester != null) {
            populateSchoolYears(selectedStudent, selectedBlock, selectedSemester);
            statusRegular.setEnabled(false);
            statusIrregular.setEnabled(false);
        }
    };
    semester1.addActionListener(semesterListener);
    semester2.addActionListener(semesterListener);
    semester3.addActionListener(semesterListener);

    // Listener for school year
    schoolYear.addActionListener(e -> {
        String selectedStudent = (String) studentName.getSelectedItem();
        String selectedBlock = (String) block.getSelectedItem();
        String selectedSemester = getSelectedSemester();
        String selectedYear = (String) schoolYear.getSelectedItem();
        if (selectedYear != null) {
            populateStatus(selectedStudent, selectedBlock, selectedSemester, selectedYear);
        }
    });
}

private void populateStudents() {
    try {
        ResultSet rs = conn.createStatement().executeQuery(
            "SELECT DISTINCT s_firstname || ' ' || s_lastname AS full_name FROM student WHERE deleted='F'"
        );
        studentName.removeAllItems();
        while (rs.next()) {
            studentName.addItem(rs.getString("full_name"));
        }
    } catch (SQLException ex) {
        ex.printStackTrace();
    }
}

private String getSelectedSemester() {
    if (semester1.isSelected()) return "1";
    if (semester2.isSelected()) return "2";
    if (semester3.isSelected()) return "3";
    return null;
}
private void populateBlocks(String student) {
    try {
        System.out.println("populateBlocks called with student: " + student);
        if (student == null || student.trim().isEmpty()) return;

        // Correct split: first word = firstName, rest = lastName
        int firstSpace = student.indexOf(" ");
        String firstName = (firstSpace == -1) ? student : student.substring(0, firstSpace);
        String lastName  = (firstSpace == -1) ? "" : student.substring(firstSpace + 1);
        System.out.println("Corrected firstName: '" + firstName + "', lastName: '" + lastName + "'");

        String sql = "SELECT DISTINCT enr.block_no " +
                     "FROM student stu " +
                     "INNER JOIN enrollment enr ON stu.student_id = enr.student_id " +
                     "WHERE stu.s_firstname=? AND stu.s_lastname=? AND stu.deleted='F' " +
                     "ORDER BY enr.block_no";
        System.out.println("SQL: " + sql);

        PreparedStatement ps = conn.prepareStatement(sql);
        ps.setString(1, firstName);
        ps.setString(2, lastName);

        ResultSet rs = ps.executeQuery();
        block.removeAllItems();
        boolean found = false;

        while (rs.next()) {
            String b = rs.getString("block_no");
            System.out.println("Found block: " + b);
            block.addItem(b);
            found = true;
        }

        if (!found) {
            System.out.println("No blocks found for this student!");
        }

        block.setEnabled(found);

    } catch (SQLException ex) {
        ex.printStackTrace();
    }
}
private void populateSemesters(String student, String blockNo) {
    try {
        System.out.println("populateSemesters called with student: " + student + ", block: " + blockNo);

        // Correct first/last name splitting
        int firstSpace = student.indexOf(" ");
        String firstName = (firstSpace == -1) ? student : student.substring(0, firstSpace);
        String lastName  = (firstSpace == -1) ? "" : student.substring(firstSpace + 1);
        System.out.println("Corrected firstName: '" + firstName + "', lastName: '" + lastName + "'");

        String sql = "SELECT DISTINCT sub.semester FROM student stu " +
                     "INNER JOIN enrollment enr ON stu.student_id = enr.student_id " +
                     "INNER JOIN subject sub ON enr.subject_code = sub.subject_code " +
                     "WHERE stu.s_firstname=? AND stu.s_lastname=? AND stu.deleted='F' AND enr.block_no=?";
        System.out.println("SQL: " + sql);

        PreparedStatement ps = conn.prepareStatement(sql);
        ps.setString(1, firstName);
        ps.setString(2, lastName);
        ps.setString(3, blockNo);

        ResultSet rs = ps.executeQuery();

        // Disable all semesters first
        semester1.setEnabled(false);
        semester2.setEnabled(false);
        semester3.setEnabled(false);

        boolean found = false;
        while (rs.next()) {
            String sem = rs.getString("semester");
            System.out.println("Found semester: " + sem);
            switch (sem) {
                case "1": semester1.setEnabled(true); break;
                case "2": semester2.setEnabled(true); break;
                case "3": semester3.setEnabled(true); break;
            }
            found = true;
        }

        if (!found) System.out.println("No semesters found for this student and block!");

    } catch (SQLException ex) {
        ex.printStackTrace();
    }
}
private void populateSchoolYears(String student, String blockNo, String semester) {
    try {
        System.out.println("populateSchoolYears called with student: " + student + ", block: " + blockNo + ", semester: " + semester);

        // Correct first/last name splitting
        int firstSpace = student.indexOf(" ");
        String firstName = (firstSpace == -1) ? student : student.substring(0, firstSpace);
        String lastName  = (firstSpace == -1) ? "" : student.substring(firstSpace + 1);
        System.out.println("Corrected firstName: '" + firstName + "', lastName: '" + lastName + "'");

        String sql = "SELECT DISTINCT sub.school_year FROM student stu " +
                     "INNER JOIN enrollment enr ON stu.student_id = enr.student_id " +
                     "INNER JOIN subject sub ON enr.subject_code = sub.subject_code " +
                     "WHERE stu.s_firstname=? AND stu.s_lastname=? AND stu.deleted='F' AND enr.block_no=? AND sub.semester=?";
        System.out.println("SQL: " + sql);

        PreparedStatement ps = conn.prepareStatement(sql);
        ps.setString(1, firstName);
        ps.setString(2, lastName);
        ps.setString(3, blockNo);
        ps.setString(4, semester);

        ResultSet rs = ps.executeQuery();

        schoolYear.removeAllItems();
        boolean found = false;

        while (rs.next()) {
            String year = rs.getString("school_year");
            System.out.println("Found school year: " + year);
            schoolYear.addItem(year);
            found = true;
        }

        if (!found) System.out.println("No school years found for this student/block/semester!");
        schoolYear.setEnabled(found);

    } catch (SQLException ex) {
        ex.printStackTrace();
    }
}
private void populateStatus(String student, String blockNo, String semester, String year) {
    try {
        System.out.println("populateStatus called with student: " + student + ", block: " + blockNo + ", semester: " + semester + ", year: " + year);

        // Correct first/last name splitting
        int firstSpace = student.indexOf(" ");
        String firstName = (firstSpace == -1) ? student : student.substring(0, firstSpace);
        String lastName  = (firstSpace == -1) ? "" : student.substring(firstSpace + 1);
        System.out.println("Corrected firstName: '" + firstName + "', lastName: '" + lastName + "'");

        String sql = "SELECT DISTINCT enr.student_type FROM student stu " +
                     "INNER JOIN enrollment enr ON stu.student_id = enr.student_id " +
                     "INNER JOIN subject sub ON enr.subject_code = sub.subject_code " +
                     "WHERE stu.s_firstname=? AND stu.s_lastname=? AND stu.deleted='F' AND enr.block_no=? AND sub.semester=? AND sub.school_year=?";
        System.out.println("SQL: " + sql);

        PreparedStatement ps = conn.prepareStatement(sql);
        ps.setString(1, firstName);
        ps.setString(2, lastName);
        ps.setString(3, blockNo);
        ps.setString(4, semester);
        ps.setString(5, year);

        ResultSet rs = ps.executeQuery();

        statusRegular.setEnabled(false);
        statusIrregular.setEnabled(false);

        boolean found = false;
        while (rs.next()) {
            String type = rs.getString("student_type");
            System.out.println("Found student type: " + type);

            // Handle case-insensitive matches and trim spaces
            if ("Regular".equalsIgnoreCase(type != null ? type.trim() : "")) statusRegular.setEnabled(true);
            if ("Irregular".equalsIgnoreCase(type != null ? type.trim() : "")) statusIrregular.setEnabled(true);

            found = true;
        }

        if (!found) System.out.println("No status found for this student/block/semester/year!");

    } catch (SQLException ex) {
        ex.printStackTrace();
    }
}





    /**
     * @param args the command line arguments
     */
//    public static void main(String args[]) {
//        /* Set the Nimbus look and feel */
//        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
//        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
//         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
//         */
//        try {
//            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
//                if ("Nimbus".equals(info.getName())) {
//                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
//                    break;
//                }
//            }
//        } catch (ReflectiveOperationException | javax.swing.UnsupportedLookAndFeelException ex) {
//            logger.log(java.util.logging.Level.SEVERE, null, ex);
//        }
//        //</editor-fold>
//
//        /* Create and display the form */
//        java.awt.EventQueue.invokeLater(() -> new homePage().setVisible(true));
//    }

    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JComboBox<String> block;
    private javax.swing.JPanel buttons;
    private javax.swing.JButton clearButton;
    private javax.swing.JButton facultyButton;
    private javax.swing.JPanel headerPanel;
    private javax.swing.JButton home_dashboardButton;
    private javax.swing.JLabel icon1;
    private javax.swing.JButton jButton2;
    private javax.swing.JButton jButton3;
    private javax.swing.JButton jButton4;
    private javax.swing.JButton jButton5;
    private javax.swing.JButton jButton6;
    private javax.swing.JButton jButton7;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JLabel labelBasic;
    private javax.swing.JLabel labelID;
    private javax.swing.JLabel labelID1;
    private javax.swing.JLabel labelName;
    private javax.swing.JLabel labelName1;
    private javax.swing.JPanel leftContainer;
    private javax.swing.JPanel leftPanelParent;
    private javax.swing.JLabel leftlogo;
    private javax.swing.JPanel mainContentPanel;
    private javax.swing.JPanel rightPanelParent;
    private javax.swing.JLabel rightlogo;
    private javax.swing.JLabel schoolName;
    private javax.swing.JComboBox<String> schoolYear;
    private javax.swing.JPanel school_name;
    private javax.swing.JButton searchButton;
    private javax.swing.ButtonGroup semester;
    private javax.swing.JRadioButton semester1;
    private javax.swing.JRadioButton semester2;
    private javax.swing.JRadioButton semester3;
    private javax.swing.JLabel spacer1;
    private javax.swing.JLabel spacer3;
    private javax.swing.ButtonGroup status;
    private javax.swing.JRadioButton statusIrregular;
    private javax.swing.JRadioButton statusRegular;
    private javax.swing.JPanel studentInfoandIcon1;
    private javax.swing.JComboBox<String> studentName;
    // End of variables declaration//GEN-END:variables
}
